Enabling execution of install_demo_configuration.sh for OpenSearch Security Plugin
OpenSearch Security Demo Installer
 ** Warning: Do not use on production or public reachable systems **
Basedir: /usr/share/opensearch
OpenSearch install type: rpm/deb on NAME="Amazon Linux"
OpenSearch config dir: /usr/share/opensearch/config
OpenSearch config file: /usr/share/opensearch/config/opensearch.yml
OpenSearch bin dir: /usr/share/opensearch/bin
OpenSearch plugins dir: /usr/share/opensearch/plugins
OpenSearch lib dir: /usr/share/opensearch/lib
Detected OpenSearch Version: x-content-1.3.6
Detected OpenSearch Security Version: 1.3.6.0

tee: /usr/share/opensearch/config/opensearch.yml: Permission denied
Enabling OpenSearch Security Plugin
[2024-09-20T07:52:06,984][INFO ][o.o.n.Node               ] [opensearch-master-0] version[1.3.6], pid[45], build[tar/cbf74db21db3eb4d79c43caeafc23eec592bf697/2022-10-04T20:26:16.847170Z], OS[Linux/6.1.85+/amd64], JVM[Eclipse Adoptium/OpenJDK 64-Bit Server VM/11.0.16/11.0.16+8]
[2024-09-20T07:52:06,988][INFO ][o.o.n.Node               ] [opensearch-master-0] JVM home [/usr/share/opensearch/jdk], using bundled JDK [true]
[2024-09-20T07:52:06,988][INFO ][o.o.n.Node               ] [opensearch-master-0] JVM arguments [-Xshare:auto, -Dopensearch.networkaddress.cache.ttl=60, -Dopensearch.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dio.netty.allocator.numDirectArenas=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Djava.locale.providers=SPI,COMPAT, -Xms1g, -Xmx1g, -XX:+UseG1GC, -XX:G1ReservePercent=25, -XX:InitiatingHeapOccupancyPercent=30, -Djava.io.tmpdir=/tmp/opensearch-4388924635514897769, -XX:+HeapDumpOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m, -Dclk.tck=100, -Djdk.attach.allowAttachSelf=true, -Djava.security.policy=/usr/share/opensearch/config/opensearch-performance-analyzer/opensearch_security.policy, --add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED, -Dopensearch.cgroups.hierarchy.override=/, -Xmx1g, -Xms1g, -XX:MaxDirectMemorySize=536870912, -Dopensearch.path.home=/usr/share/opensearch, -Dopensearch.path.conf=/usr/share/opensearch/config, -Dopensearch.distribution.type=tar, -Dopensearch.bundled_jdk=true]
[2024-09-20T07:52:08,803][WARN ][stderr                   ] [opensearch-master-0] SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
[2024-09-20T07:52:08,804][WARN ][stderr                   ] [opensearch-master-0] SLF4J: Defaulting to no-operation (NOP) logger implementation
[2024-09-20T07:52:08,804][WARN ][stderr                   ] [opensearch-master-0] SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
[2024-09-20T07:52:08,819][INFO ][o.o.s.s.t.SSLConfig      ] [opensearch-master-0] SSL dual mode is disabled
[2024-09-20T07:52:08,820][WARN ][o.o.s.OpenSearchSecurityPlugin] [opensearch-master-0] OpenSearch Security plugin installed but disabled. This can expose your configuration (including passwords) to the public.
[2024-09-20T07:52:09,682][INFO ][o.o.p.c.PluginSettings   ] [opensearch-master-0] Config: metricsLocation: /dev/shm/performanceanalyzer/, metricsDeletionInterval: 1, httpsEnabled: false, cleanup-metrics-db-files: true, batch-metrics-retention-period-minutes: 7, rpc-port: 9650, webservice-port 9600
[2024-09-20T07:52:10,143][INFO ][o.o.i.r.ReindexPlugin    ] [opensearch-master-0] ReindexPlugin reloadSPI called
[2024-09-20T07:52:10,144][INFO ][o.o.i.r.ReindexPlugin    ] [opensearch-master-0] Unable to find any implementation for RemoteReindexExtension
[2024-09-20T07:52:10,219][INFO ][o.o.j.JobSchedulerPlugin ] [opensearch-master-0] Loaded scheduler extension: reports-scheduler, index: .opendistro-reports-definitions
[2024-09-20T07:52:10,225][INFO ][o.o.j.JobSchedulerPlugin ] [opensearch-master-0] Loaded scheduler extension: opendistro_anomaly_detector, index: .opendistro-anomaly-detector-jobs
[2024-09-20T07:52:10,227][INFO ][o.o.j.JobSchedulerPlugin ] [opensearch-master-0] Loaded scheduler extension: opendistro-index-management, index: .opendistro-ism-config
[2024-09-20T07:52:10,232][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [aggs-matrix-stats]
[2024-09-20T07:52:10,232][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [analysis-common]
[2024-09-20T07:52:10,232][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [geo]
[2024-09-20T07:52:10,232][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [ingest-common]
[2024-09-20T07:52:10,232][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [ingest-geoip]
[2024-09-20T07:52:10,233][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [ingest-user-agent]
[2024-09-20T07:52:10,233][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [lang-expression]
[2024-09-20T07:52:10,233][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [lang-mustache]
[2024-09-20T07:52:10,233][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [lang-painless]
[2024-09-20T07:52:10,233][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [mapper-extras]
[2024-09-20T07:52:10,233][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [opensearch-dashboards]
[2024-09-20T07:52:10,233][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [parent-join]
[2024-09-20T07:52:10,233][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [percolator]
[2024-09-20T07:52:10,233][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [rank-eval]
[2024-09-20T07:52:10,233][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [reindex]
[2024-09-20T07:52:10,233][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [repository-url]
[2024-09-20T07:52:10,234][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded module [transport-netty4]
[2024-09-20T07:52:10,234][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-alerting]
[2024-09-20T07:52:10,234][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-anomaly-detection]
[2024-09-20T07:52:10,234][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-asynchronous-search]
[2024-09-20T07:52:10,235][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-cross-cluster-replication]
[2024-09-20T07:52:10,235][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-index-management]
[2024-09-20T07:52:10,235][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-job-scheduler]
[2024-09-20T07:52:10,235][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-knn]
[2024-09-20T07:52:10,235][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-ml]
[2024-09-20T07:52:10,235][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-observability]
[2024-09-20T07:52:10,235][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-performance-analyzer]
[2024-09-20T07:52:10,235][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-reports-scheduler]
[2024-09-20T07:52:10,235][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-security]
[2024-09-20T07:52:10,235][INFO ][o.o.p.PluginsService     ] [opensearch-master-0] loaded plugin [opensearch-sql]
[2024-09-20T07:52:10,280][INFO ][o.o.e.NodeEnvironment    ] [opensearch-master-0] using [1] data paths, mounts [[/ (overlay)]], net usable_space [40.5gb], net total_space [94.2gb], types [overlay]
[2024-09-20T07:52:10,281][INFO ][o.o.e.NodeEnvironment    ] [opensearch-master-0] heap size [1gb], compressed ordinary object pointers [true]
[2024-09-20T07:52:10,327][INFO ][o.o.n.Node               ] [opensearch-master-0] node name [opensearch-master-0], node ID [VZddzQPnSdW9Gchny9Tsdw], cluster name [opensearch], roles [master, remote_cluster_client, data, ingest]
[2024-09-20T07:52:15,551][INFO ][o.o.a.b.ADCircuitBreakerService] [opensearch-master-0] Registered memory breaker.
[2024-09-20T07:52:16,046][INFO ][o.o.m.c.b.MLCircuitBreakerService] [opensearch-master-0] Registered ML memory breaker.
[2024-09-20T07:52:16,734][INFO ][o.o.t.NettyAllocator     ] [opensearch-master-0] creating NettyAllocator with the following configs: [name=unpooled, suggested_max_allocation_size=256kb, factors={opensearch.unsafe.use_unpooled_allocator=null, g1gc_enabled=true, g1gc_region_size=1mb, heap_size=1gb}]
[2024-09-20T07:52:16,835][INFO ][o.o.d.DiscoveryModule    ] [opensearch-master-0] using discovery type [single-node] and seed hosts providers [settings]
[2024-09-20T07:52:17,455][WARN ][o.o.g.DanglingIndicesState] [opensearch-master-0] gateway.auto_import_dangling_indices is disabled, dangling indices will not be automatically detected or imported and must be managed manually
[2024-09-20T07:52:17,981][INFO ][o.o.p.h.c.PerformanceAnalyzerConfigAction] [opensearch-master-0] PerformanceAnalyzer Enabled: false
[2024-09-20T07:52:18,023][INFO ][o.o.n.Node               ] [opensearch-master-0] initialized
[2024-09-20T07:52:18,023][INFO ][o.o.n.Node               ] [opensearch-master-0] starting ...
[2024-09-20T07:52:18,287][INFO ][o.o.t.TransportService   ] [opensearch-master-0] publish_address {10.60.4.161:9300}, bound_addresses {0.0.0.0:9300}
[2024-09-20T07:52:18,615][INFO ][o.o.c.c.Coordinator      ] [opensearch-master-0] setting initial configuration to VotingConfiguration{VZddzQPnSdW9Gchny9Tsdw}
[2024-09-20T07:52:18,797][INFO ][o.o.c.s.MasterService    ] [opensearch-master-0] elected-as-master ([1] nodes joined)[{opensearch-master-0}{VZddzQPnSdW9Gchny9Tsdw}{iwSF82SJRhyB0Oks7r4kGA}{10.60.4.161}{10.60.4.161:9300}{dimr}{shard_indexing_pressure_enabled=true} elect leader, _BECOME_MASTER_TASK_, _FINISH_ELECTION_], term: 1, version: 1, delta: master node changed {previous [], current [{opensearch-master-0}{VZddzQPnSdW9Gchny9Tsdw}{iwSF82SJRhyB0Oks7r4kGA}{10.60.4.161}{10.60.4.161:9300}{dimr}{shard_indexing_pressure_enabled=true}]}
[2024-09-20T07:52:18,894][INFO ][o.o.c.c.CoordinationState] [opensearch-master-0] cluster UUID set to [tE7cMhmIRyS8QmKjs8Ch0w]
[2024-09-20T07:52:18,947][INFO ][o.o.c.s.ClusterApplierService] [opensearch-master-0] master node changed {previous [], current [{opensearch-master-0}{VZddzQPnSdW9Gchny9Tsdw}{iwSF82SJRhyB0Oks7r4kGA}{10.60.4.161}{10.60.4.161:9300}{dimr}{shard_indexing_pressure_enabled=true}]}, term: 1, version: 1, reason: Publication{term=1, version=1}
[2024-09-20T07:52:18,958][INFO ][o.o.a.c.ADClusterEventListener] [opensearch-master-0] Cluster is not recovered yet.
[2024-09-20T07:52:18,972][INFO ][o.o.i.i.ManagedIndexCoordinator] [opensearch-master-0] Cache master node onMaster time: 1726818738972
[2024-09-20T07:52:18,979][WARN ][o.o.p.c.s.h.ConfigOverridesClusterSettingHandler] [opensearch-master-0] Config override setting update called with empty string. Ignoring.
[2024-09-20T07:52:19,003][INFO ][o.o.h.AbstractHttpServerTransport] [opensearch-master-0] publish_address {10.60.4.161:9200}, bound_addresses {0.0.0.0:9200}
[2024-09-20T07:52:19,003][INFO ][o.o.n.Node               ] [opensearch-master-0] started
[2024-09-20T07:52:19,004][INFO ][o.o.s.OpenSearchSecurityPlugin] [opensearch-master-0] Node started
[2024-09-20T07:52:19,005][INFO ][o.o.s.OpenSearchSecurityPlugin] [opensearch-master-0] 0 OpenSearch Security modules loaded so far: []
[2024-09-20T07:52:19,046][INFO ][o.o.a.c.HashRing         ] [opensearch-master-0] Node added: [VZddzQPnSdW9Gchny9Tsdw]
[2024-09-20T07:52:19,052][INFO ][o.o.a.c.HashRing         ] [opensearch-master-0] Add data node to AD version hash ring: VZddzQPnSdW9Gchny9Tsdw
[2024-09-20T07:52:19,055][INFO ][o.o.a.c.HashRing         ] [opensearch-master-0] All nodes with known AD version: {VZddzQPnSdW9Gchny9Tsdw=ADNodeInfo{version=1.3.6, isEligibleDataNode=true}}
[2024-09-20T07:52:19,056][INFO ][o.o.a.c.HashRing         ] [opensearch-master-0] Rebuild AD hash ring for realtime AD with cooldown, nodeChangeEvents size 0
[2024-09-20T07:52:19,056][INFO ][o.o.a.c.HashRing         ] [opensearch-master-0] Build AD version hash ring successfully
[2024-09-20T07:52:19,057][INFO ][o.o.a.c.ADDataMigrator   ] [opensearch-master-0] Start migrating AD data
[2024-09-20T07:52:19,057][INFO ][o.o.a.c.ADDataMigrator   ] [opensearch-master-0] AD job index doesn't exist, no need to migrate
[2024-09-20T07:52:19,057][INFO ][o.o.a.c.ADClusterEventListener] [opensearch-master-0] Init AD version hash ring successfully
[2024-09-20T07:52:19,100][INFO ][o.o.g.GatewayService     ] [opensearch-master-0] recovered [0] indices into cluster_state
[2024-09-20T07:53:13,591][INFO ][o.o.c.m.MetadataCreateIndexService] [opensearch-master-0] [nuxeo-audit] creating index, cause [api], templates [], shards [5]/[0]
[2024-09-20T07:53:14,322][INFO ][o.o.c.r.a.AllocationService] [opensearch-master-0] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[nuxeo-audit][4]]]).
[2024-09-20T07:53:14,468][INFO ][o.o.c.m.MetadataMappingService] [opensearch-master-0] [nuxeo-audit/OWxxo3NORH6uQxQBsJWLyQ] create_mapping [_doc]
[2024-09-20T07:53:14,537][INFO ][o.o.c.m.MetadataCreateIndexService] [opensearch-master-0] [nuxeo-uidgen] creating index, cause [api], templates [], shards [1]/[1]
[2024-09-20T07:53:14,539][INFO ][o.o.c.r.a.AllocationService] [opensearch-master-0] updating number_of_replicas to [0] for indices [nuxeo-uidgen]
[2024-09-20T07:53:14,660][INFO ][o.o.c.r.a.AllocationService] [opensearch-master-0] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[nuxeo-uidgen][0]]]).
[2024-09-20T07:53:14,715][INFO ][o.o.c.m.MetadataMappingService] [opensearch-master-0] [nuxeo-uidgen/HzPboTqDTuSUJPYgXdI9DQ] create_mapping [_doc]
[2024-09-20T07:53:14,791][INFO ][o.o.c.m.MetadataCreateIndexService] [opensearch-master-0] [nuxeo] creating index, cause [api], templates [], shards [5]/[0]
[2024-09-20T07:53:15,119][INFO ][o.o.c.r.a.AllocationService] [opensearch-master-0] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[nuxeo][4]]]).
[2024-09-20T07:53:15,188][INFO ][o.o.c.m.MetadataMappingService] [opensearch-master-0] [nuxeo/WccYhxEXQTSgUmlqxYLwwg] create_mapping [_doc]
[2024-09-20T07:53:18,270][INFO ][o.o.c.m.MetadataMappingService] [opensearch-master-0] [nuxeo/WccYhxEXQTSgUmlqxYLwwg] update_mapping [_doc]
[2024-09-20T07:53:18,356][INFO ][o.o.c.m.MetadataMappingService] [opensearch-master-0] [nuxeo/WccYhxEXQTSgUmlqxYLwwg] update_mapping [_doc]
[2024-09-20T07:53:18,466][INFO ][o.o.c.m.MetadataMappingService] [opensearch-master-0] [nuxeo/WccYhxEXQTSgUmlqxYLwwg] update_mapping [_doc]
[2024-09-20T07:53:18,546][INFO ][o.o.c.m.MetadataMappingService] [opensearch-master-0] [nuxeo/WccYhxEXQTSgUmlqxYLwwg] update_mapping [_doc]
[2024-09-20T07:53:18,555][INFO ][o.o.c.m.MetadataMappingService] [opensearch-master-0] [nuxeo/WccYhxEXQTSgUmlqxYLwwg] update_mapping [_doc]
[2024-09-20T07:53:18,656][INFO ][o.o.c.m.MetadataMappingService] [opensearch-master-0] [nuxeo-audit/OWxxo3NORH6uQxQBsJWLyQ] update_mapping [_doc]
[2024-09-20T07:53:18,794][INFO ][o.o.c.m.MetadataMappingService] [opensearch-master-0] [nuxeo/WccYhxEXQTSgUmlqxYLwwg] update_mapping [_doc]
[2024-09-20T07:53:18,976][INFO ][o.o.i.i.ManagedIndexCoordinator] [opensearch-master-0] Performing move cluster state metadata.
[2024-09-20T07:53:18,978][INFO ][o.o.i.i.MetadataService  ] [opensearch-master-0] ISM config index not exist, so we cancel the metadata migration job.
[2024-09-20T07:53:18,982][INFO ][o.o.i.i.ManagedIndexCoordinator] [opensearch-master-0] Performing ISM template migration.
[2024-09-20T07:53:18,986][INFO ][o.o.i.i.m.ISMTemplateService] [opensearch-master-0] Doing ISM template migration 1 time.
[2024-09-20T07:53:18,987][INFO ][o.o.i.i.m.ISMTemplateService] [opensearch-master-0] Use 2024-09-20T06:52:18.972Z as migrating ISM template last_updated_time
[2024-09-20T07:53:18,988][INFO ][o.o.i.i.m.ISMTemplateService] [opensearch-master-0] ISM templates: {}
[2024-09-20T07:53:18,989][INFO ][o.o.i.i.m.ISMTemplateService] [opensearch-master-0] Policies to update: []
[2024-09-20T07:53:18,996][INFO ][o.o.i.i.m.ISMTemplateService] [opensearch-master-0] Failure experienced when migrating ISM Template and update ISM policies: {}
[2024-09-20T07:53:19,109][INFO ][o.o.c.s.ClusterSettings  ] [opensearch-master-0] updating [plugins.index_state_management.template_migration.control] from [0] to [-1]
[2024-09-20T07:53:19,117][INFO ][o.o.i.i.m.ISMTemplateService] [opensearch-master-0] Successfully update template migration setting
