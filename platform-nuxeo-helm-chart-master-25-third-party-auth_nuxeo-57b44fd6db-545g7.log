ENTRYPOINT: Initialize server configuration without /etc/nuxeo/nuxeo.conf
ENTRYPOINT: Move /opt/nuxeo/server/bin/nuxeo.conf to /etc/nuxeo/nuxeo.conf
ENTRYPOINT: Append required properties to /etc/nuxeo/nuxeo.conf
nuxeo.data.dir=/var/lib/nuxeo
nuxeo.log.dir=/var/log/nuxeo
nuxeo.tmp.dir=/tmp
nuxeo.pid.dir=/var/pid/nuxeo
# Set java.io.tmpdir = ${nuxeo.tmp.dir}
launcher.override.java.tmpdir=true
ENTRYPOINT: Append properties from /etc/nuxeo/conf.d/00-docker.conf to /etc/nuxeo/nuxeo.conf
ENTRYPOINT: Append properties from /etc/nuxeo/conf.d/00-nuxeo.conf to /etc/nuxeo/nuxeo.conf
ENTRYPOINT: Append properties from /etc/nuxeo/conf.d/nuxeo-minio.conf to /etc/nuxeo/nuxeo.conf
ENTRYPOINT: Write NUXEO_CLID environment variable to /var/lib/nuxeo/instance.clid
ENTRYPOINT: Install Nuxeo packages: amazon-s3-online-storage
Nuxeo home:          /opt/nuxeo/server
Nuxeo configuration: /etc/nuxeo/nuxeo.conf
Include template: /opt/nuxeo/server/templates/common-base
Include template: /opt/nuxeo/server/templates/common
Include template: /opt/nuxeo/server/templates/default
Include template: /opt/nuxeo/server/templates/docker

Dependency resolution:
  Installation order (1):        amazon-s3-online-storage-2023.18.9
  Packages to download (1):      amazon-s3-online-storage:2023.18.9

Downloading [amazon-s3-online-storage-2023.18.9]...
|/-\|/Added amazon-s3-online-storage-2023.18.9
Installing amazon-s3-online-storage-2023.18.9
ENTRYPOINT: Looking for shell scripts in /docker-entrypoint-initnuxeo.d
Nuxeo home:          /opt/nuxeo/server
Nuxeo configuration: /etc/nuxeo/nuxeo.conf
Include template: /opt/nuxeo/server/templates/common-base
Include template: /opt/nuxeo/server/templates/common
Include template: /opt/nuxeo/server/templates/default
Include template: /opt/nuxeo/server/templates/aws
Include template: /opt/nuxeo/server/templates/s3binaries
Include template: /opt/nuxeo/server/templates/docker
No current configuration, generating files...
FreeMarker variables: ignored 'java.version.date' conflicting with 'java.version'
Configuration files generated.
Server started with process ID: 340
Go to http://localhost:8080/nuxeo
2024-09-12 08:51:27 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [572] milliseconds
# Running Nuxeo Preprocessor ...
Preprocessing: /opt/nuxeo/server/nxserver
Done.
# Preprocessing done.
2024-09-12T08:51:29,908 INFO  [FrameworkLoader] 
======================================================================
= Starting Nuxeo Framework
======================================================================
  * Distribution Version = 2023.18.9
  * Distribution Date = 202409060207
  * Server home = /opt/nuxeo/server
  * Runtime home = /opt/nuxeo/server/nxserver
  * Data Directory = /var/lib/nuxeo
  * Log Directory = /var/log/nuxeo
  * Configuration Directory = /opt/nuxeo/server/nxserver/config
  * Temp Directory = /tmp
======================================================================
2024-09-12T08:51:34,849 WARN  [CommandLineExecutorComponent] Command not available: ffmpeg-info (command ffprobe not found in system path (descriptor CommandLineDescriptor[available=false,command=ffprobe,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg from http://ffmpeg.org (apt-get install ffmpeg),name=ffmpeg-info,parameterString=#{inFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ffmpeg from http://ffmpeg.org (apt-get install ffmpeg))
2024-09-12T08:51:34,857 WARN  [CommandLineExecutorComponent] Command not available: ffmpeg-screenshot (command ffmpeg not found in system path (descriptor CommandLineDescriptor[available=false,command=ffmpeg,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg from http://ffmpeg.org (apt-get install ffmpeg),name=ffmpeg-screenshot,parameterString=-y -ss #{position} -i #{inFilePath} -frames:v 1 -f image2 #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ffmpeg from http://ffmpeg.org (apt-get install ffmpeg))
2024-09-12T08:51:34,863 WARN  [CommandLineExecutorComponent] Command not available: ffmpeg-screenshot-resize (command ffmpeg not found in system path (descriptor CommandLineDescriptor[available=false,command=ffmpeg,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg from http://ffmpeg.org (apt-get install ffmpeg),name=ffmpeg-screenshot-resize,parameterString=-y -ss #{position} -i #{inFilePath} -frames:v 1 -f image2 -vf scale=#{width}:#{height} #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ffmpeg from http://ffmpeg.org (apt-get install ffmpeg))
2024-09-12T08:51:34,869 WARN  [CommandLineExecutorComponent] Command not available: ffmpeg-towebm (command ffmpeg not found in system path (descriptor CommandLineDescriptor[available=false,command=ffmpeg,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg from http://ffmpeg.org (apt-get install ffmpeg),name=ffmpeg-towebm,parameterString=-i #{inFilePath} -s #{width}x#{height} -acodec libvorbis -v 0 #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ffmpeg from http://ffmpeg.org (apt-get install ffmpeg))
2024-09-12T08:51:34,875 WARN  [CommandLineExecutorComponent] Command not available: ffmpeg-tomp4 (command ffmpeg not found in system path (descriptor CommandLineDescriptor[available=false,command=ffmpeg,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg from http://ffmpeg.org (apt-get install ffmpeg),name=ffmpeg-tomp4,parameterString=-i #{inFilePath} -s #{width}x#{height} -acodec aac -strict -2 -pix_fmt yuv420p -vcodec libx264 -v 0 #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=-i #{inFilePath} -s #{width}x#{height} -pix_fmt yuv420p -vcodec libx264 -v 0 #{outFilePath},winTestParameterString=]). You need to install ffmpeg from http://ffmpeg.org (apt-get install ffmpeg))
2024-09-12T08:51:34,882 WARN  [CommandLineExecutorComponent] Command not available: ffmpeg-toogg (command ffmpeg not found in system path (descriptor CommandLineDescriptor[available=false,command=ffmpeg,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg from http://ffmpeg.org (apt-get install ffmpeg),name=ffmpeg-toogg,parameterString=-i #{inFilePath} -s #{width}x#{height} -acodec libvorbis -v 0 #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ffmpeg from http://ffmpeg.org (apt-get install ffmpeg))
2024-09-12T08:51:34,889 WARN  [CommandLineExecutorComponent] Command not available: ffmpeg-toavi (command ffmpeg not found in system path (descriptor CommandLineDescriptor[available=false,command=ffmpeg,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg.,name=ffmpeg-toavi,parameterString=-i #{inFilePath} -s #{width}x#{height} -q:v 0 -c:v mpeg4 -c:a ac3 #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ffmpeg.)
2024-09-12T08:51:34,910 WARN  [CommandLineExecutorComponent] Command not available: videoClosedCaptionsExtractor (command ccextractor not found in system path (descriptor CommandLineDescriptor[available=false,command=ccextractor,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ccextractor.,name=videoClosedCaptionsExtractor,parameterString=#{sourceFilePath} -out=#{outFormat} -trim -o #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ccextractor.)
2024-09-12T08:51:34,917 WARN  [CommandLineExecutorComponent] Command not available: videoPartClosedCaptionsExtractor (command ccextractor not found in system path (descriptor CommandLineDescriptor[available=false,command=ccextractor,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ccextractor.,name=videoPartClosedCaptionsExtractor,parameterString=#{sourceFilePath} -out=#{outFormat} -startat #{startAt} -endat #{endAt} -trim -o #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ccextractor.)
2024-09-12T08:51:34,924 WARN  [CommandLineExecutorComponent] Command not available: videoConcat (command ffmpeg not found in system path (descriptor CommandLineDescriptor[available=false,command=ffmpeg,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg.,name=videoConcat,parameterString=-y -f concat -safe 0 -i #{listFilePath} -c copy #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ffmpeg.)
2024-09-12T08:51:34,932 WARN  [CommandLineExecutorComponent] Command not available: videoSlicerByCopy (command ffmpeg not found in system path (descriptor CommandLineDescriptor[available=false,command=ffmpeg,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg.,name=videoSlicerByCopy,parameterString=-y -i #{sourceFilePath} -ss #{startAt} -t #{duration} -c copy #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ffmpeg.)
2024-09-12T08:51:34,938 WARN  [CommandLineExecutorComponent] Command not available: videoSlicer (command ffmpeg not found in system path (descriptor CommandLineDescriptor[available=false,command=ffmpeg,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg.,name=videoSlicer,parameterString=-y -i #{sourceFilePath} -ss #{startAt} -t #{duration} #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ffmpeg.)
2024-09-12T08:51:34,944 WARN  [CommandLineExecutorComponent] Command not available: videoSlicerStartAt (command ffmpeg not found in system path (descriptor CommandLineDescriptor[available=false,command=ffmpeg,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg.,name=videoSlicerStartAt,parameterString=-y -i #{sourceFilePath} -ss #{startAt} #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ffmpeg.)
2024-09-12T08:51:34,950 WARN  [CommandLineExecutorComponent] Command not available: videoSlicerSegments (command ffmpeg not found in system path (descriptor CommandLineDescriptor[available=false,command=ffmpeg,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg.,name=videoSlicerSegments,parameterString=-y -i #{sourceFilePath} -map 0 -c copy -f segment -segment_time #{duration} -reset_timestamps 1
        #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ffmpeg.)
2024-09-12T08:51:34,957 WARN  [CommandLineExecutorComponent] Command not available: videoWatermarkWithPicture (command ffmpeg not found in system path (descriptor CommandLineDescriptor[available=false,command=ffmpeg,enabled=true,installErrorMessage=<null>,installationDirective=You need to install ffmpeg.,name=videoWatermarkWithPicture,parameterString=-y -i #{sourceFilePath} -i #{pictureFilePath} -filter_complex #{filterComplex} #{outFilePath},readOutput=true,testParameterString=,tester=<null>,timeout=<null>,winCommand=<null>,winParameterString=<null>,winTestParameterString=]). You need to install ffmpeg.)
2024-09-12T08:51:35,776 WARN  [StreamServiceImpl] In-Memory type for log config "default" is ONLY for testing purpose. Use Kafka for production.
2024-09-12T08:51:35,779 WARN  [StreamServiceImpl] In-Memory type for log config "bulk" is ONLY for testing purpose. Use Kafka for production.
2024-09-12T08:51:35,779 WARN  [StreamServiceImpl] In-Memory type for log config "audit" is ONLY for testing purpose. Use Kafka for production.
2024-09-12T08:51:35,779 WARN  [StreamServiceImpl] In-Memory type for log config "pubsub" is ONLY for testing purpose. Use Kafka for production.
2024-09-12T08:51:42,746 WARN  [JmxReporter] Creating Jmx reporter
2024-09-12T08:51:42,773 WARN  [StreamMetricsNuxeoReporter] Reporting Stream Metrics to: internal/metrics
2024-09-12T08:51:42,807 WARN  [StreamMetricsComputation] Instance elected to report stream metrics
2024-09-12T08:51:42,827 WARN  [StreamIntrospectionComputation] Instance elected to introspect Nuxeo Stream activity
2024-09-12T08:51:43,515 INFO  [OSGiRuntimeService] Nuxeo Platform Started
======================================================================
= Component Loading Warnings:
  * In-Memory type for log config "default" is ONLY for testing purpose. Use Kafka for production.
  * In-Memory type for log config "bulk" is ONLY for testing purpose. Use Kafka for production.
  * In-Memory type for log config "audit" is ONLY for testing purpose. Use Kafka for production.
  * In-Memory type for log config "pubsub" is ONLY for testing purpose. Use Kafka for production.
======================================================================
= Component Loading Status: Pending: 0 / Missing: 0 / Unstarted: 0 / Total: 562
======================================================================
2024-09-12 08:51:46 INFO [main] org.apache.catalina.startup.Catalina.start Server startup in [19266] milliseconds
2024-09-12T08:51:46,450 WARN  [HealthCheckResult] HealthCheck is not healthy, see probes: [ProbeInfo{name=s3BinaryManagerStatus, status=No S3BinaryManager bucket configured, runCount=2, runDate=Thu Sep 12 08:51:46 UTC 2024, runDuration=7ms}, ProbeInfo{name=runtimeStatus, status=Runtime started, runCount=1, runDate=Thu Sep 12 08:51:46 UTC 2024, runDuration=0ms}, ProbeInfo{name=ldapDirectories, status=No configured LDAP directory, runCount=1, runDate=Thu Sep 12 08:51:46 UTC 2024, runDuration=0ms}, ProbeInfo{name=elasticSearchStatus, status=[unavailable], runCount=1, runDate=Thu Sep 12 08:51:46 UTC 2024, runDuration=0ms}, ProbeInfo{name=repositoryStatus, status=Repository started, runCount=1, runDate=Thu Sep 12 08:51:46 UTC 2024, runDuration=3ms}, ProbeInfo{name=streamStatus, status=No failure, runCount=1, runDate=Thu Sep 12 08:51:46 UTC 2024, runDuration=0ms}]
